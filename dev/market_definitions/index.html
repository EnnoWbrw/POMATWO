<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Market Definition · POMATWO.jl</title><meta name="title" content="Market Definition · POMATWO.jl"/><meta property="og:title" content="Market Definition · POMATWO.jl"/><meta property="twitter:title" content="Market Definition · POMATWO.jl"/><meta name="description" content="Documentation for POMATWO.jl."/><meta property="og:description" content="Documentation for POMATWO.jl."/><meta property="twitter:description" content="Documentation for POMATWO.jl."/><meta property="og:url" content="https://ennowbrw.github.io/POMATWO/market_definitions/"/><meta property="twitter:url" content="https://ennowbrw.github.io/POMATWO/market_definitions/"/><link rel="canonical" href="https://ennowbrw.github.io/POMATWO/market_definitions/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">POMATWO.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Model Data</span><ul><li><a class="tocitem" href="../input_data/">Input Data Formats</a></li><li><a class="tocitem" href="../REPORTING_USAGE/">Input Data Reports</a></li><li><a class="tocitem" href="../output_data/">Output Data</a></li></ul></li><li><span class="tocitem">Model Configuration</span><ul><li class="is-active"><a class="tocitem" href>Market Definition</a><ul class="internal"><li><a class="tocitem" href="#Zonal-Markets"><span>Zonal Markets</span></a></li><li><a class="tocitem" href="#Nodal-Markets"><span>Nodal Markets</span></a></li><li><a class="tocitem" href="#Exchange-Formulations"><span>Exchange Formulations</span></a></li><li><a class="tocitem" href="#Load-Flow-Formulations"><span>Load Flow Formulations</span></a></li><li class="toplevel"><a class="tocitem" href="#Redispatch-Setup"><span>Redispatch Setup</span></a></li><li class="toplevel"><a class="tocitem" href="#Prosumer-Setup"><span>Prosumer Setup</span></a></li></ul></li><li><a class="tocitem" href="../Model_config/">Model Creation</a></li></ul></li><li><span class="tocitem">Mathematical Model</span><ul><li><a class="tocitem" href="../nomenclature/">Nomenclature</a></li><li><a class="tocitem" href="../market_model/">Market Model</a></li><li><a class="tocitem" href="../power_flow_ac/">AC Power Flow</a></li></ul></li><li><span class="tocitem">Visualization</span><ul><li><a class="tocitem" href="../Visualizing_inputs/">Visualizing inputs</a></li><li><a class="tocitem" href="../Visualizing_outputs/">Visualizing outputs</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model Configuration</a></li><li class="is-active"><a href>Market Definition</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Market Definition</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnnoWbrw/POMATWO" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnnoWbrw/POMATWO/blob/main/docs/src/market_definitions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Market-Types"><a class="docs-heading-anchor" href="#Market-Types">Market Types</a><a id="Market-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Market-Types" title="Permalink"></a></h1><p>POMATWO supports different market types, defined as subtypes of the abstract type <code>MarketType</code>.   The market type specifies whether a zonal or nodal market design is used. Choosing the appropriate type is essential for model construction and simulation behavior.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.MarketType" href="#POMATWO.MarketType"><code>POMATWO.MarketType</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MarketType</code></pre><p>Abstract supertype for market setup descriptors. Subtypes specify the market structure (zonal or nodal) and whether redispatch is considered.</p><p><strong>Subtypes</strong></p><ul><li><a href="#POMATWO.ZonalMarket"><code>ZonalMarket</code></a>: Zonal market with specified exchange formulation.</li><li><a href="#POMATWO.NodalMarket"><code>NodalMarket</code></a>: Nodal market with specified load flow formulation.</li></ul><p>These types are used to parameterize simulations or models, allowing code to dispatch on market design and redispatch handling.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L26-L36">source</a></section></article><h2 id="Zonal-Markets"><a class="docs-heading-anchor" href="#Zonal-Markets">Zonal Markets</a><a id="Zonal-Markets-1"></a><a class="docs-heading-anchor-permalink" href="#Zonal-Markets" title="Permalink"></a></h2><p>Zonal markets are coarse representations of the power system, where nodes are aggregated into zones, and cross-border flows are modeled via exchange formulations.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.ZonalMarket" href="#POMATWO.ZonalMarket"><code>POMATWO.ZonalMarket</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ZonalMarket{XF&lt;:ExchangeFormulation} &lt;: ZonalMarketType</code></pre><p>Zonal market definition parameterized by an exchange formulation.</p><p><strong>Fields</strong></p><ul><li><code>XF</code>: Type of the exchange formulation, e.g., <code>NTC</code> or <code>FlowBased</code>.</li></ul><p><strong>Constructors</strong></p><ul><li><code>ZonalMarket()</code>: Uses <code>NTC</code> as default.</li><li><code>ZonalMarket(XF::Type{&lt;:ExchangeFormulation})</code>: Specify exchange formulation type.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L41-L52">source</a></section></article><h2 id="Nodal-Markets"><a class="docs-heading-anchor" href="#Nodal-Markets">Nodal Markets</a><a id="Nodal-Markets-1"></a><a class="docs-heading-anchor-permalink" href="#Nodal-Markets" title="Permalink"></a></h2><p>Nodal markets use detailed grid representations with nodal-level price formation and physical power flows.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.NodalMarket" href="#POMATWO.NodalMarket"><code>POMATWO.NodalMarket</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NodalMarket{LF&lt;:LFFormulation} &lt;: NodalMarketType</code></pre><p>Nodal market definition parameterized by a load flow formulation.</p><p><strong>Fields</strong></p><ul><li><code>LF</code>: Type of the load flow formulation, e.g., <code>PhaseAngle</code> or <code>PTDF</code>.</li></ul><p><strong>Constructors</strong></p><ul><li><code>NodalMarket()</code>: Uses <code>PhaseAngle</code> as default.</li><li><code>NodalMarket(LF::Type{&lt;:LFFormulation})</code>: Specify load flow formulation type.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L60-L71">source</a></section></article><h2 id="Exchange-Formulations"><a class="docs-heading-anchor" href="#Exchange-Formulations">Exchange Formulations</a><a id="Exchange-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Exchange-Formulations" title="Permalink"></a></h2><p>Exchange formulations define how power exchanges between zones are handled in zonal market settings.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.NTC" href="#POMATWO.NTC"><code>POMATWO.NTC</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NTC &lt;: ExchangeFormulation</code></pre><p>Net Transfer Capacity formulation. Represents fixed interzonal capacity limits.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L17-L21">source</a></section></article><h2 id="Load-Flow-Formulations"><a class="docs-heading-anchor" href="#Load-Flow-Formulations">Load Flow Formulations</a><a id="Load-Flow-Formulations-1"></a><a class="docs-heading-anchor-permalink" href="#Load-Flow-Formulations" title="Permalink"></a></h2><p>Load flow formulations are used in nodal market and redispatch settings to model physical power flows under DC approximations.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.PhaseAngle" href="#POMATWO.PhaseAngle"><code>POMATWO.PhaseAngle</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PhaseAngle &lt;: DCLFFormulation</code></pre><p>DC load flow formulation based on phase angle differences between nodes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L6-L10">source</a></section></article><h1 id="Redispatch-Setup"><a class="docs-heading-anchor" href="#Redispatch-Setup">Redispatch Setup</a><a id="Redispatch-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Redispatch-Setup" title="Permalink"></a></h1><p>POMATWO supports optional redispatch modeling. Redispatch is activated via types derived from <code>RedispatchSetup</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.DCLF" href="#POMATWO.DCLF"><code>POMATWO.DCLF</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DCLF{DCF&lt;:DCLFFormulation} &lt;: RedispatchType</code></pre><p>Redispatch setup using a DC load flow formulation.</p><p><strong>Fields</strong></p><ul><li><code>DCF</code>: DC load flow formulation type (e.g., <code>PhaseAngle</code>, <code>PTDF</code>).</li></ul><p><strong>Constructors</strong></p><ul><li><code>DCLF()</code>: Uses <code>PhaseAngle</code> as default.</li><li><code>DCLF(DCF::Type{&lt;:DCLFFormulation})</code>: User-defined formulation type.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L136-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.NoRedispatch" href="#POMATWO.NoRedispatch"><code>POMATWO.NoRedispatch</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoRedispatch &lt;: RedispatchSetup</code></pre><p>Represents a setup without redispatch modeling.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L156-L160">source</a></section></article><h1 id="Prosumer-Setup"><a class="docs-heading-anchor" href="#Prosumer-Setup">Prosumer Setup</a><a id="Prosumer-Setup-1"></a><a class="docs-heading-anchor-permalink" href="#Prosumer-Setup" title="Permalink"></a></h1><p>Due to the increasing penetration of decentralized generation, especially rooftop PV, POMATWO includes the ability to model prosumers—entities that both consume and produce electricity.   Prosumers can be passive or actively optimize their market behavior depending on price signals and tariff schemes.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.ProsumerSetup" href="#POMATWO.ProsumerSetup"><code>POMATWO.ProsumerSetup</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProsumerSetup</code></pre><p>Abstract supertype for prosumer market participation models. Subtypes specify whether and how prosumers are represented in the simulation.</p><p><strong>Subtypes</strong></p><ul><li><a href="#POMATWO.NoProsumer"><code>NoProsumer</code></a>: No prosumers are modeled.</li><li><a href="#POMATWO.ProsumerOptimization"><code>ProsumerOptimization</code></a>: Prosumers are modeled with explicit optimization (variable sell/buy prices and retail tariff types).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L78-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.NoProsumer" href="#POMATWO.NoProsumer"><code>POMATWO.NoProsumer</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoProsumer</code></pre><p>Represents a market setup with no prosumer participation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L90-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMATWO.ProsumerOptimization" href="#POMATWO.ProsumerOptimization"><code>POMATWO.ProsumerOptimization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProsumerOptimization(; sell_price, buy_price=0, retail_type=:buy_price)</code></pre><p>Represents a prosumer setup where prosumer actions are explicitly optimized with respect to market conditions.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>sell_price::Float64</code>: Price at which the prosumer can sell electricity to the market or grid.</li><li><code>buy_price::Float64</code>: Price at which the prosumer buys electricity from the market/grid. Defaults to <code>0</code>.</li><li><code>retail_type::Symbol</code>: Retail tariff structure. Must be one of <code>:buy_price</code>, <code>:flat</code>, or <code>:realtime</code>. Default is <code>:buy_price</code>.</li></ul><p>An error is thrown if <code>retail_type</code> is not valid.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">ProsumerOptimization(sell_price=0.12, buy_price=0.22)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnnoWbrw/POMATWO/blob/dd5936bfa06d3d01902dee32f33584d37cfaddf8/src/market_definitions.jl#L97-L113">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../output_data/">« Output Data</a><a class="docs-footer-nextpage" href="../Model_config/">Model Creation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Friday 14 November 2025 11:09">Friday 14 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
